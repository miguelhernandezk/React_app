(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(37)},,,,,,,,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(6),r=n.n(l),c=(n(15),n(17),n(3)),u=n(1);var s=o.a.createContext();function m(e){var t=o.a.useState(!1),n=Object(u.a)(t,2),a=n[0],l=n[1],r=function(e,t){var n=o.a.useState(!1),a=Object(u.a)(n,2),l=a[0],r=a[1],c=o.a.useState(!0),s=Object(u.a)(c,2),m=s[0],i=s[1],d=o.a.useState(t),f=Object(u.a)(d,2),E=f[0],p=f[1];return o.a.useEffect(function(){setTimeout(function(){try{var n,a=localStorage.getItem(e);a?n=JSON.parse(a):(localStorage.setItem(e,JSON.stringify(t)),n=t),p(n),i(!1)}catch(l){r(!0)}},3e3)}),{item:E,saveItem:function(t){try{var n=JSON.stringify(t);localStorage.setItem(e,n),p(t)}catch(l){r(!0)}},loading:m,error:l}}("TODOS_V1",[]),m=r.item,i=r.saveItem,d=r.loading,f=r.error,E=o.a.useState(""),p=Object(u.a)(E,2),g=p[0],v=p[1],T=o.a.useState(!1),h=Object(u.a)(T,2),D=h[0],b=h[1],N=m.filter(function(e){return!!e.completed}).length,C=m.length,I=[];I=!g.length>=1?m:m.filter(function(e){var t=e.text.toLowerCase(),n=g.toLowerCase();return t.includes(n)});return o.a.createElement(s.Provider,{value:{loading:d,error:f,totalToDos:C,completedToDos:N,searchValue:g,setSearchValue:v,searchedToDos:I,completeToDo:function(e){var t=m.findIndex(function(t){return t.text===e}),n=Object(c.a)(m);n[t].completed=D,b(!D),i(n)},deleteToDo:function(e){var t=m.findIndex(function(t){return t.text===e}),n=Object(c.a)(m);n.splice(t,1),i(n)},addToDo:function(e){var t=Object(c.a)(m);t.push({completed:!1,text:e}),i(t)},openModal:a,setOpenModal:l}},e.children)}function i(){var e=o.a.useContext(s),t=e.totalToDos,n=e.completedToDos;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",{className:"ToDoCounter headCounter"},"Your tasks"),o.a.createElement("h3",{className:"ToDoCounter subCounter"},n," out of ",t," tasks completed."))}n(19);function d(){var e=o.a.useContext(s),t=e.searchValue,n=e.setSearchValue;return o.a.createElement("input",{className:"ToDoSearch",placeholder:"Filter ToDo's",value:t,onChange:function(e){console.log(e.target.value),n(e.target.value)}})}n(21);function f(e){return o.a.createElement("section",null,o.a.createElement("ul",null,e.children))}var E=n(2);n(23);function p(e){return o.a.createElement("li",{className:"ToDoItem"},o.a.createElement("span",{className:"Icon Icon-check ".concat(e.completed&&"Icon-check--active"),onClick:e.onComplete},o.a.createElement(E.b,null)),o.a.createElement("p",{className:"ToDoItem-p ".concat(e.completed&&"ToDoItem-p--complete")},e.text),o.a.createElement("span",{className:"Icon Icon-delete",onClick:e.onDelete},o.a.createElement(E.e,null)))}n(25);function g(e){return o.a.createElement("button",{className:"CreateToDoButton",onClick:function(){e.setOpenModal(function(e){return!e})}},"+")}var v=n(4),T=n.n(v);n(27);function h(e){var t=e.children;return T.a.createPortal(o.a.createElement("div",{className:"ModalBackground"},t),document.getElementById("modal"))}n(29);function D(){var e=o.a.useState(""),t=Object(u.a)(e,2),n=t[0],a=t[1],l=o.a.useContext(s),r=l.addToDo,c=l.setOpenModal,m=function(e){e.preventDefault(),console.log("Solo en submit"),console.log(n),r(n),c(!1)};return o.a.createElement("form",{onSubmit:m},o.a.createElement("label",null,"Enter your new task:"),o.a.createElement("textarea",{value:n,onChange:function(e){a(e.target.value),console.log("A ver que pedo"),console.log(e.target.value)},placeholder:"Learn Redux on Platzi"}),o.a.createElement("div",{className:"TodoForm-buttonContainer"},o.a.createElement("button",{type:"button",className:"TodoForm-button TodoForm-button--cancel",onClick:function(){c(!1)}},"Cancel"),o.a.createElement("button",{type:"submit",className:"TodoForm-button TodoForm-button--add",onClick:m},"Add")))}n(31);function b(e){e.error;return o.a.createElement("li",{className:"ToDosError"},o.a.createElement("span",{className:"errorIcon"},o.a.createElement(E.d,null)),o.a.createElement("h2",null,"Sorry! It's not you, it's us"),o.a.createElement("p",null,"Please reload page."))}n(33);function N(e){e.error;return o.a.createElement("div",{className:"LoadingToDo-container"},o.a.createElement("span",{className:"LoadingToDo-completeIcon"}),o.a.createElement("p",{className:"LoadingToDo-text"},"working"),o.a.createElement("span",{className:"LoadingToDo-deleteIcon"}))}n(35);function C(e){e.error;return o.a.createElement("li",{className:"EmptyToDos"},o.a.createElement("span",{className:"emptyIcon"},o.a.createElement(E.c,null)),o.a.createElement("h2",null,"Wow! It seems you're done for today."),o.a.createElement("p",null,"Hit the ",o.a.createElement("span",{className:"miniAddButton"},o.a.createElement(E.a,null))," button to add a new task"))}function I(){var e=o.a.useContext(s),t=e.error,n=e.loading,a=e.searchedToDos,l=e.completeToDo,r=e.deleteToDo,c=e.openModal,u=e.setOpenModal;return o.a.createElement(o.a.Fragment,null,o.a.createElement(i,null),o.a.createElement(d,null),o.a.createElement(f,null,t&&o.a.createElement(b,{error:t}),n&&o.a.createElement(N,null),!n&&!a.length&&o.a.createElement(C,null),a.map(function(e){return o.a.createElement(p,{key:e.text,text:e.text,completed:e.completed,onComplete:function(){return l(e.text)},onDelete:function(){return r(e.text)}})})),!!c&&o.a.createElement(h,null,o.a.createElement(D,null)),o.a.createElement(g,{setOpenModal:u}))}var x=function(){return o.a.createElement(m,null,o.a.createElement(I,null))};r.a.createRoot(document.getElementById("root")).render(o.a.createElement(x,null))}],[[7,2,1]]]);
//# sourceMappingURL=main.d454a324.chunk.js.map