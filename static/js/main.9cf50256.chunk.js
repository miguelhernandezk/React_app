(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(21)},,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),l=n(5),c=n.n(l),r=(n(14),n(2)),u=n(1);var s=o.a.createContext();function m(e){var t=o.a.useState(!1),n=Object(u.a)(t,2),a=n[0],l=n[1],c=function(e,t){var n=o.a.useState(!1),a=Object(u.a)(n,2),l=a[0],c=a[1],r=o.a.useState(!0),s=Object(u.a)(r,2),m=s[0],i=s[1],d=o.a.useState(t),p=Object(u.a)(d,2),f=p[0],E=p[1];return o.a.useEffect(function(){setTimeout(function(){try{var n,a=localStorage.getItem(e);a?n=JSON.parse(a):(localStorage.setItem(e,JSON.stringify(t)),n=t),E(n),i(!1)}catch(l){c(!0)}},1e3)}),{item:f,saveItem:function(t){try{var n=JSON.stringify(t);localStorage.setItem(e,n),E(t)}catch(l){c(!0)}},loading:m,error:l}}("TODOS_V1",[]),m=c.item,i=c.saveItem,d=c.loading,p=c.error,f=o.a.useState(""),E=Object(u.a)(f,2),v=E[0],g=E[1],T=m.filter(function(e){return!!e.completed}).length,b=m.length,h=[];h=!v.length>=1?m:m.filter(function(e){var t=e.text.toLowerCase(),n=v.toLowerCase();return t.includes(n)});return o.a.createElement(s.Provider,{value:{loading:d,error:p,totalToDos:b,completedToDos:T,searchValue:v,setSearchValue:g,searchedToDos:h,completeToDo:function(e){var t=m.findIndex(function(t){return t.text===e}),n=Object(r.a)(m);n[t].completed=!0,i(n)},deleteToDo:function(e){var t=m.findIndex(function(t){return t.text===e}),n=Object(r.a)(m);n.splice(t,1),i(n)},addToDo:function(e){var t=Object(r.a)(m);t.push({completed:!1,text:e}),i(t)},openModal:a,setOpenModal:l}},e.children)}function i(){var e=o.a.useContext(s),t=e.totalToDos,n=e.completedToDos;return o.a.createElement("h2",{className:"ToDoCounter"},"Has completado ",n," de ",t," To Do's")}n(15);function d(){var e=o.a.useContext(s),t=e.searchValue,n=e.setSearchValue;return o.a.createElement("input",{className:"ToDoSearch",placeholder:"Cebolla",value:t,onChange:function(e){console.log(e.target.value),n(e.target.value)}})}n(16);function p(e){return o.a.createElement("section",null,o.a.createElement("ul",null,e.children))}n(17);function f(e){return o.a.createElement("li",{className:"ToDoItem"},o.a.createElement("span",{className:"Icon Icon-check ".concat(e.completed&&"Icon-check--active"),onClick:e.onComplete},"\u221a"),o.a.createElement("p",{className:"ToDoItem-p ".concat(e.completed&&"ToDoItem-p--complete")},e.text),o.a.createElement("span",{className:"Icon Icon-delete",onClick:e.onDelete},"X"))}n(18);function E(e){return o.a.createElement("button",{className:"CreateToDoButton",onClick:function(){e.setOpenModal(function(e){return!e})}},"+")}var v=n(3),g=n.n(v);n(19);function T(e){var t=e.children;return g.a.createPortal(o.a.createElement("div",{className:"ModalBackground"},t),document.getElementById("modal"))}n(20);function b(){var e=o.a.useState(""),t=Object(u.a)(e,2),n=t[0],a=t[1],l=o.a.useContext(s),c=l.addToDo,r=l.setOpenModal,m=function(e){e.preventDefault(),console.log("Solo en submit"),console.log(n),c(n),r(!1)};return o.a.createElement("form",{onSubmit:m},o.a.createElement("label",null,"Escribe tu nuevo ToDo"),o.a.createElement("textarea",{value:n,onChange:function(e){a(e.target.value),console.log("A ver que pedo"),console.log(e.target.value)},placeholder:"Cortar la cebolla para el almuerzo"}),o.a.createElement("div",{className:"TodoForm-buttonContainer"},o.a.createElement("button",{type:"button",className:"TodoForm-button TodoForm-button--cancel",onClick:function(){r(!1)}},"Cancelar"),o.a.createElement("button",{type:"submit",className:"TodoForm-button TodoForm-button--add",onClick:m},"A\xf1adir")))}function h(){var e=o.a.useContext(s),t=e.error,n=e.loading,a=e.searchedToDos,l=e.completeToDo,c=e.deleteToDo,r=e.openModal,u=e.setOpenModal;return o.a.createElement(o.a.Fragment,null,o.a.createElement(i,null),o.a.createElement(d,null),o.a.createElement(p,null,t&&o.a.createElement("p",null,"desesperate! Hubo un error"),n&&o.a.createElement("p",null,"Estamos cargando, no desesperes.."),!n&&!a.length&&o.a.createElement("p",null,"CREA TU PRIMER TODO"),a.map(function(e){return o.a.createElement(f,{key:e.text,text:e.text,completed:e.completed,onComplete:function(){return l(e.text)},onDelete:function(){return c(e.text)}})})),!!r&&o.a.createElement(T,null,o.a.createElement(b,null)),o.a.createElement(E,{setOpenModal:u}))}var D=function(){return o.a.createElement(m,null,o.a.createElement(h,null))};c.a.createRoot(document.getElementById("root")).render(o.a.createElement(D,null))}],[[6,1,2]]]);
//# sourceMappingURL=main.9cf50256.chunk.js.map